<!DOCTYPE html>
<html metal:use-macro="main_template">
  <div metal:fill-slot="main_content" class="container">

    <div class="row" style="padding-bottom: 10px;">
      <div class="col-md-12 pull-right">
        <button id="record-me">Record</button>
        <button id="stop-me" disabled>â—¼</button>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12 pull-right">
        <div class="select">
          <label for="audioSource">Mic </label><select id="audioSource"></select>
        </div>
        <div class="select">
          <label for="videoSource">Cam </label><select id="videoSource"></select
>
        </div>
      </div>
    </div>


    <div class="row">
      <div class="col-md-4" style="padding-left: 0px; padding-right: 0px;">
        <!-- muted="true" prevents performer from hearing themselves (in
        chrome at least) -->
        <video muted="true" autoplay>Your browser doesn't support video.</video>
      </div>

      <div class="col-md-8">
        <div id="player" style="display: none">
          <div id="karaoke-wrapper">
            <div id="karaoke-display"></div>
          </div>
        </div>
        <div id="status">0:00</div>
      </div>
    </div>
  </div>

  <div metal:fill-slot="tail">
    <script src="${layout.static('js/recorder.js')}"></script>
    <script type="text/javascript" src="${layout.static('js/ricekaraoke.js')}"></script>
    <script type="text/javascript" src="${layout.static('js/simplekaraokedisplay.js')}"></script>
    <script type="text/javascript" src="${layout.static('js/yssrecorder.js')}"></script>
    <script type="text/javascript">
     // karaoke and rtc_recorder are exported by yssrecorder
     kar = karaoke("${mp3_url}", ${timings}, "${recording_id}");
     rtc_recorder(window, kar, "${recording_id}", ${framerate});
    </script>
  </div>
</html>
